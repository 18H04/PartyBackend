<style>
    .dataTables_wrapper .table-scrollable {
        border: 1px solid #e7ecf1 !important;
    }

    .h-60 {
        height: 60px;
    }

    .pl0 {
        padding-left: 10px;
    }

    .p25 {
        padding-left: 25px;
    }

    .pt5 {
        padding-top: 5px;
    }

    .pr15 {
        padding-right: 10px;
    }

    .pr15 {
        padding-right: 15px;
    }

    .pr20 {
        padding-right: 20px;
    }

    .pr5 {
        padding-right: 5px;
    }

    .mt5 {
        margin-top: 5px;
    }

    .mt15 {
        margin-top: 15px;
    }

    .ml15 {
        margin-left: 20px;
    }

    .mt23 {
        margin-right: 60px;
    }

    .mt25 {
        margin-top: 25px;
    }

    .w-100-percent {
        width: 100%;
    }

    .w-30-percent {
        width: 30%;
    }

    .bgWhite {
        background: #FFF;
    }

    .labelbodergroup {
        margin-left: 24px;
        margin-top: -12px;
        position: absolute;
        background: linear-gradient(to bottom,#f2eee6,#FBFCFC );
        border: 1px solid #e9dada;
        border-radius: 4px;
        font-size: 11px;
        padding: 3px 10px !important;
    }

    .table_body {
        background: linear-gradient(to bottom,#f2eee6,#FBFCFC );
        border-radius: 4px !important;
        border: 1px solid #e9dada;
        padding-top: 15px;
        box-shadow: 0px 5px 10px 2px rgba(127, 143, 166,0.2) !important;
        padding-bottom: 15px;
    }

    /*.close-modal {
        z-index: 9990;
        position: absolute;
        padding: 0px;
        border-radius: 50px;
    }

    .close-modal {
        position: absolute;
        top: -25px;
        right: -25px;
        display: block;
        width: 50px;
        height: 50px;
        text-indent: -9999px;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center center;
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA3hJREFUaAXlm8+K00Acx7MiCIJH/yw+gA9g25O49SL4AO3Bp1jw5NvktC+wF88qevK4BU97EmzxUBCEolK/n5gp3W6TTJPfpNPNF37MNsl85/vN/DaTmU6PknC4K+pniqeKJ3k8UnkvDxXJzzy+q/yaxxeVHxW/FNHjgRSeKt4rFoplzaAuHHDBGR2eS9G54reirsmienDCTRt7xwsp+KAoEmt9nLaGitZxrBbPFNaGfPloGw2t4JVamSt8xYW6Dg1oCYo3Yv+rCGViV160oMkcd8SYKnYV1Nb1aEOjCe6L5ZOiLfF120EjWhuBu3YIZt1NQmujnk5F4MgOpURzLfAwOBSTmzp3fpDxuI/pabxpqOoz2r2HLAb0GMbZKlNV5/Hg9XJypguryA7lPF5KMdTZQzHjqxNPhWhzIuAruOl1eNqKEx1tSh5rfbxdw7mOxCq4qS68ZTjKS1YVvilu559vWvFHhh4rZrdyZ69Vmpgdj8fJbDZLJpNJ0uv1cnr/gjrUhQMuI+ANjyuwftQ0bbL6Erp0mM/ny8Fg4M3LtdRxgMtKl3jwmIHVxYXChFy94/Rmpa/pTbNUhstKV+4Rr8lLQ9KlUvJKLyG8yvQ2s9SBy1Jb7jV5a0yapfF6apaZLjLLcWtd4sNrmJUMHyM+1xibTjH82Zh01TNlhsrOhdKTe00uAzZQmN6+KW+sDa/JD2PSVQ873m29yf+1Q9VDzfEYlHi1G5LKBBWZbtEsHbFwb1oYDwr1ZiF/2bnCSg1OBE/pfr9/bWx26UxJL3ONPISOLKUvQza0LZUxSKyjpdTGa/vDEr25rddbMM0Q3O6Lx3rqFvU+x6UrRKQY7tyrZecmD9FODy8uLizTmilwNj0kraNcAJhOp5aGVwsAGD5VmJBrWWbJSgWT9zrzWepQF47RaGSiKfeGx6Szi3gzmX/HHbihwBser4B9UJYpFBNX4R6vTn3VQnez0SymnrHQMsRYGTr1dSk34ljRqS/EMd2pLQ8YBp3a1PLfcqCpo8gtHkZFHKkTX6fs3MY0blKnth66rKCnU0VRGu37ONrQaA4eZDFtWAu2fXj9zjFkxTBOo8F7t926gTp/83Kyzzcy2kZD6xiqxTYnHLRFm3vHiRSwNSjkz3hoIzo8lCKWUlg/YtGs7tObunDAZfpDLbfEI15zsEIY3U/x/gHHc/G1zltnAgAAAABJRU5ErkJggg==);
    }*/

    .active-body {
        position: relative;
    }

        .active-body:after {
            content: "";
            position: absolute;
            z-index: 1;
            bottom: 0;
            left: 0;
            pointer-events: none;
            background-image: linear-gradient(to bottom, rgba(255,255,255, 0), rgba(255,255,255, 1) 90%);
            width: 100%;
            height: 4em;
        }

    .h-70 {
        height: 333px !important;
    }
    #main-class {
        height: 67% !important;
    }
    .modal-content {
        height: 67% !important;
    }
</style>
<button type="button" class="close-modal" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">
</button>
<div class="pb-0" id="main-class">
    <div class="table-responsive">
        <div class="portlet-body form mt10 mb10">
            <form name="addCSCform" class="form-horizontal " method="post" ng-validate="validationOptionsCSC">
                <div class="form-body pt-0 pl-0 pr-0">
                    <div class="row ">
                        <div class="col-md-10 h-70" ng-show="modelRef.Type == 'CMS'">
                            <label class="col-md-12 pl-0 fw600 text-underline">{{'LMS_PRACTICE_TEST_LBL_DATA_CMS' | translate}}</label>
                            <div class="col-md-12 input-group search-group br24">
                                <ui-select tagging ng-model="modelRef.Link" theme="bootstrap">
                                    <ui-select-match placeholder="{{'LMS_PRACTICE_TEST_LBL_DATA_CMS' | translate}}...">{{$select.selected.Name}}</ui-select-match>
                                    <ui-select-choices repeat="x.Code as x  in listCmsQuiz | filter: $select.search">
                                        <span class="bold fs11">{{x.Name}}</span>
                                    </ui-select-choices>
                                </ui-select>
                                <span class="input-group-btn">
                                    <button type="button" ng-click="model.Unit='';" class="btn btn-default no-shadow start-date">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-10 h-70" ng-show="modelRef.Type == 'VOICE'">
                            <label class="col-md-12 pl-0 fw600 text-underline">{{'LMS_PRACTICE_TEST_LBL_FILE_SOUND' | translate}}</label>
                            <audio id="micRecorded" src="" controls style="width: 100%;"></audio>
                            <!--<div class="col-md-12 input-group search-group">
                                <div class="input-group input-file br24">
                                    <i class="fa fa-upload"></i>
                                    <input class="form-control border-left-4radius inputIVoiceRef pl30" style="pointer-events:none" name="VoiceRef" placeholder="Tệp tin..." ng-model="VoiceRef">
                                    <span class="input-group-btn">
                                        <span class="btn btn-default btn-choose" onclick="$(this).parent().find('input[type=file]').click();">Browse</span>
                                        <input class="form-control" custom-on-change-lms="loadVoiceRef" onchange="$('.inputIVoiceRef').val($(this).val().split('\\').pop());" style="display: none;" type="file">
                                    </span>
                                </div>
                            </div>-->
                        </div>
                        <div class="col-md-10 h-70" ng-show="modelRef.Type == 'IMAGE'">
                            <label class="col-md-12 pl-0 fw600 text-underline">{{'LMS_PRACTICE_TEST_LBL_FILE_IMAGE' | translate}}</label>
                            <img id="screenshot-img" src="" alt="screenshot" onerror="this.src='https://www.digitalcitizen.life/wp-content/uploads/2019/02/screenshot_mac.png'" style="width: 100%; height: auto; border: 1px solid #ccc;">
                            <div style="display: none; position: relative;">
                                <video id="takephoto-video" src="" width="640" height="480" autoplay></video>
                                <canvas id="takephoto-canvas" width="640" height="480"></canvas>
                            </div>
                            <!--<div class="col-md-12 input-group search-group">
                                <div class="input-group input-file br24">
                                    <i class="fa fa-upload"></i>
                                    <input class="form-control border-left-4radius inputImageRef pl30" style="pointer-events:none" name="ImageRef" placeholder="Tệp tin..." ng-model="ImageRef">
                                    <span class="input-group-btn">
                                        <span class="btn btn-default btn-choose" onclick="$(this).parent().find('input[type=file]').click();">Browse</span>
                                        <input class="form-control" custom-on-change-lms="loadImageRef" onchange="$('.inputImageRef').val($(this).val().split('\\').pop());" style="display: none;" type="file">
                                    </span>
                                </div>
                            </div>-->
                        </div>
                        <div class="col-md-10 h-70" ng-show="modelRef.Type == 'VIDEO'">
                            <label class="col-md-12 pl-0 fw600 text-underline">{{'LMS_PRACTICE_TEST_LBL_VIDEO_REFER' | translate}}</label>
                            <video id="cameraRecorded" width="300" style="height: 500px;" controls></video>
                            <video id="cameraRecording" width="300" style="display: none; height: 500px"></video>
                            <!--<div class="col-md-12 input-group search-group br24">
                                <div class="input-group">
                                    <input class="form-control text-important" name="VideoContent" ng-model="modelRef.Link" type="text" placeholder="{{'LMS_PRACTICE_TEST_LBL_VIDEO_REFER' | translate}}" placeholder1="{{'CMS_CAT_TXT_ADDCATEGORY' | translate}}..." />
                                    <span class="input-group-btn">
                                        <button type="button" ng-click="showVideo(modelRef.Link)" class="btn btn-default no-shadow">
                                            <span class="glyphicon glyphicon-play"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>-->
                        </div>
                        <div class="col-md-2 h-70" ng-show="modelRef.Type != 'CMS'">
                            <div class="">
                                <div class="btn-group actions d-flex">
                                    <div class="text-center mt40 pr20" ng-show="modelRef.Type == 'VOICE'">
                                        <a record-audio-lms="" handler="uploadBlob(blob, ext)" type="button" class1="btn btn-success">
                                            <i class="fas fa-microphone fs25" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <div class="text-center mt40 pr20" ng-show="modelRef.Type == 'IMAGE'">
                                        <a capture-screen-lms="" handler="uploadBlob(blob, ext)" type="button" class1="btn btn-success">
                                            <i class="fas fa-images fs25" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <div class="text-center mt40 pr20" ng-show="modelRef.Type == 'VIDEO'">
                                        <a capture-video-lms="" handler="uploadBlob(blob, ext)" type="button" class1="btn btn-success">
                                            <i class="fas fa-video fs25" aria-hidden="true"></i>
                                        </a>
                                    </div>
                                    <div class="text-center mt40">
                                        <a ng-click="submit()" type="button" class1="btn btn-icon-only btn-circle btn-outline green-custom">
                                            <span><i class="fa-solid fa-plus fs25"></i></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2 h-70 pr-0" ng-show="modelRef.Type == 'CMS'">
                            <div class="">
                                <div class="btn-group actions d-flex">
                                    <div class="text-center mt10">
                                        <a ng-click="submit()" type="button" class1="btn btn-icon-only btn-circle btn-outline green-custom">
                                            <!--<span><i class="fa fa-save"></i></span>-->
                                            <!--<span class="fa fa-arrow-down"></span>-->
                                            <span><i class="fa-solid fa-plus fs30"></i></span>
                                            <!--<img style="width:100%; height:100%;" src="/images/default/save-button-icon_340535.png">-->
                                        </a>
                                        <a style="text-decoration: underline; line-height: 70px; margin-left: 10px; font-size:10px" ng-click="modelRef.IsCreated = true">{{'LMS_PRACTICE_TEST_LBL_CREATE_POST' | translate}}</a>
                                        <!--<button type="button" ng-click="addQuestion()" class="btn btn-default no-shadow green-custom">
                                            <span class="fa fa-arrow-down"></span>
                                        </button>-->
                                        <!--<p class="text-underline fs9 mb5 pt3 ng-binding">{{'COM_BTN_SAVE' | translate}}</p>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="background-color: #eef1f5 !important" ng-show="modelRef.IsCreated == true">
                        <div class="col-md-12" style="height:20px">
                            <i ng-click="modelRef.IsCreated = false" style="margin-top:9px !important; margin-right:5px !important; font-size:25px" class="fas fa-angle-up pull-right h28 w28 close-input-search" role="button" title="Ẩn tìm kiếm"></i>
                        </div>
                        <div class="col-md-10 mnw300 h-70">
                            <label class="col-md-12 pl-0 fw600 text-underline">{{'LMS_PRACTICE_TEST_LBL_TITLE_POST' | translate}}</label>
                            <div class="col-md-12 input-group search-group br24">
                                <input class="form-control text-important" name="CmsItemName" ng-model="modelCmsItem.title" ng-change="ConvertToAlias(modelCmsItem.title)" type="text" placeholder="{{'LMS_PRACTICE_TEST_LBL_TITLE_POST' | translate}}..." />
                                <span class="input-group-btn">
                                    <button type="button" ng-click="modelCmsItem.title='';" class="btn btn-default no-shadow start-date">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-2 mnw150 h-70">
                            <div class="pull-right mt20">
                                <div class="btn-group actions d-flex">
                                    <div class="text-center">
                                        <a ng-click="submit()" class="">
                                            <img style="width:100%; height:100%;" src="/images/default/save-button-icon_340535.png">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 mt10">
                            <label class="col-md-12 pl-0 fw600 text-underline require">{{'LMS_PRACTICE_TEST_LBL_REFERENCES' | translate}}</label>
                            <div class="col-md-12 input-group search-group" ng-class="{ 'has-error': errorType}">
                                <textarea ng-model="modelCmsItem.full_text" id="ckEditorItemCmsTest"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!--<div class="col-md-12 mb15 mnh100">
            <div style="height:640px; overflow-y:scroll;">
                <div class="active-detail pl10 pr10" ng-repeat="x in listReference track by x.Code" ng-init="last = $last">
                    <div class="active-time">
                        <b>{{x.CreatedBy}}</b>
                        <span style="color:#8c8c8c" ng-if="x.Id != undefined">{{x.CreatedTime | date: "dd/MM/yyyy 'lúc' h:mma"}}</span>
                        <span style="color:#8c8c8c" ng-if="x.Id == undefined">{{'LMS_NOW' | translate}}</span>
                        <div class="pull-right" ng-class="{'text-purple': x[last].Type == 'VIDEO', 'text-primary': x[last].Type == 'CMS'}" ng-style="{'color': x[last].Type == 'IMAGE' ? 'rgb(42,42,42)' : (x[last].Type == 'VOICE' ? '#e599f7' : black)}">
                            <span class="fa fa-file-video-o mr5 text-purple fs14" ng-if="x[last].Type == 'VIDEO'"></span>
                            <span class="fa fa-picture-o mr5" style="color: rgb(42,42,42);font-size: 14px;" ng-if="x[last].Type == 'IMAGE'"></span>
                            <span class="fa fa-file-audio-o mr5" style="color: #e599f7; font-size: 14px;" ng-if="x[last].Type == 'VOICE'"></span>
                            <div style="display: inline-block"><img class="mr5" style="width: 14px;" src="../../../images/iconDashBoard/icon_Text-Worksheet.png" ng-if="x[last].Type == 'CMS'"></div>
                            <span class="fs14">{{x[last].TypeName}}</span>
                            <span class="text-primary mr5">|</span>
                            <a class="text-primary" ng-click="viewReference($index)">{{'LMS_PRACTICE_TEST_LBL_DISPLAY' | translate}}</a>
                            <a class="text-primary" ng-click="deleteReference(x)">{{'LMS_PRACTICE_TEST_LBL_DELETE' | translate}}</a>
                        </div>
                    </div>
                    <div class="active-body pl35 pb5" style="overflow-y: hidden; margin-top: 10px; min-height: 100px" ng-class="{'h-100': x.showContent == false}">
                        <div ng-repeat="y in x.listContent">
                            <div ng-if="y.Type == 'CMS'">
                                <div id="cmsViewItem" class="fs40 fw400" style="font-family:Merriweather,serif; color: black;" ng-bind-html="y.cmsContent">

                                </div>
                            </div>
                            <div ng-if="y.Type == 'VOICE'" colspan="5">
                                <audio class="audio" controls>
                                    <source src="{{y.Link}}" type="audio/mpeg">
                                </audio>
                            </div>
                            <div ng-if="y.Type == 'VIDEO'" colspan="5">
                                <youtube-video video-url="y.Link" player-width="'100%'"></youtube-video>
                            </div>
                            <div ng-if="y.Type == 'IMAGE'" colspan="5">
                                <img ng-src="{{y.Link}}">
                            </div>
                        </div>
                    </div>
                    <hr style="border-top: 1px solid #d6dadc; margin-top: 0 !important" />
                </div>
            </div>
        </div>-->
    </div>
</div>

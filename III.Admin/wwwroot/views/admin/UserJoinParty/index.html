<style>
  @media (min-width: 1200px) and (max-width:1500px) {
    .col-custom-lg-2 {
      float: left !important;
      width: 25% !important;
    }
  }


  .app-content {
    width: 100%;
  }

  .breadcrumb>li {
    font-size: 16px;
    font-weight: 700;
    color: black;
    text-decoration: underline;
  }

  #contentMain {
    position: relative;
  }

  #searchBox {
    position: absolute;
    z-index: 12;
    width: calc(100% - 80px);
    right: 30px;
  }

  #searchBox .bordered {
    border: 1px solid #80808057 !important;
    box-shadow: 1px 3px 8px 0px #888888c2;
  }

  .datepicker.datepicker-dropdown.dropdown-menu.datepicker-orient-left.datepicker-orient-top {
    z-index: 1032 !important;
  }

  .main-menu-editWorkflow {
    position: absolute;
    right: -20px;
    display: flex;
    top: 66px;
    width: 50%;
    height: 80vh;
    display: flex;
    background-color: #fff;
    box-shadow: -3px -2px 5px 0px rgb(0 0 0 / 30%);
    height: 80vh;overflow-y: auto;overflow-x: hidden;
  }

  .main-right-editWorkflow {
    position: absolute;
    right: -20px;
    display: flex;
    top:66px;
    width:35px;
    height:40px; 
    display:flex; 
    background-color: #cccccc;
  }
  .toggle-header {
    cursor: pointer;
    background-color: #EEEEEE;
    padding-left: 10px;
  }
</style>
<link href="../../../css/admin/site/search-control.css" rel="stylesheet" />
<div class="col">
  <div class="col">
    <div class="btn-group pt5 pb-1 pull-right actions d-flex">
      <div class="text-center mt10 pr30">
        <a class="" ng-click="reload()">
          <span><i class="fas fa-arrows-rotate fs30"></i></span>
        </a>
        <p class="text-underline fs9 mb5 pt3">{{'COM_BTN_REFRESH' | translate}}</p>
      </div>
      <div class="text-center mt10 pr30">
        <a class="" ng-click="showSearch()">
          <span><i class="fas fa-search fs30"></i></span>
        </a>
        <p class="text-underline fs9 mb5 pt3">{{'COM_BTN_SEARCH' | translate}}</p>
      </div>
    </div>
    <div id="searchBox" ng-show="isSearch">
      <div class="table-toolbar">
        <div class="portlet light bordered input-search mb5">
          <div class="portlet-body">
            <div class="col-md-12" style="height:20px">
              <i ng-click="showSearch()" style="margin-top:9px !important; margin-right:5px !important; font-size:25px"
                class="fas fa-times  pull-right h28 w28  close-input-search" role="button" title="Ẩn tìm kiếm"></i>
            </div>
            <div class="row pt5 mb5 mr10">

              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Họ và tên' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.Name" class="form-control" type="text"
                    placeholder="{{'Họ và tên' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Name=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>

              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Mã' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.Username" class="form-control" type="text"
                    placeholder="{{'Mã' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Username=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Quê quán' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.HomeTown" class="form-control" type="text"
                    placeholder="{{'Quê quán' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.HomeTown=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Ngày sinh từ' | translate}}</label>
                <div class="input-group br24">
                  <input type="text" autocomplete="off" class="form-control"
                    placeholder="{{'Ngày sinh từ' | translate}}..." ng-model="searchModel.FromDate" id="PostFromDate" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.FromDate='';"
                      class="btn btn-default no-shadow start-post-date">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>

              <div class="col-md-2">
                <label class="fw600 text-underline">{{'Ngày sinh đến' | translate}}</label>
                <div class="input-group br24">
                  <input type="text" autocomplete="off" class="form-control"
                    placeholder="{{'Ngày sinh đến' | translate}}..." ng-model="searchModel.ToDate" id="PostToDate" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.ToDate='';"
                      class="btn btn-default no-shadow end-post-date">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>

              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Trạng thái' | translate}}</label>
                <div class="input-group br24">
                  <ui-select tagging ng-model="searchModel.Status" theme="bootstrap">
                    <ui-select-match
                      placeholder="{{'Trạng thái' | translate}}...">{{$select.selected.Name}}</ui-select-match>
                    <ui-select-choices repeat="x.Code as x in ListStatus | filter: $select.search">
                      {{x.Name}}
                    </ui-select-choices>
                  </ui-select>
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Status='';"
                      class="btn btn-default no-shadow start-date">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>

              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Dân tộc' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.Nation" class="form-control" type="text"
                    placeholder="{{'Dân tộc' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Nation=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>

              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Tôn giáo' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.Religion" class="form-control" type="text"
                    placeholder="{{'Tôn giáo' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Religion=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>

              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Tin học' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.ItDegree" class="form-control" type="text"
                    placeholder="{{'Tin học' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.ItDegree=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Nghề nghiệp hiện nay' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.Job" class="form-control" type="text"
                    placeholder="{{'Nghề nghiệp hiện nay' | translate}}..."
                    ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Job=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Ngoại ngữ' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.ForeignLanguage" class="form-control" type="text"
                    placeholder="{{'Ngoại ngữ' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.ForeignLanguage=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Giáo dục phổ thông' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.GeneralEducation" class="form-control" type="text"
                    placeholder="{{'Giáo dục phổ thông' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.GeneralEducation=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Giáo dục đại học và sau đại học' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.UnderPostGraduateEducation" class="form-control" type="text"
                    placeholder="{{'Giáo dục đại học và sau đại học' | translate}}..."
                    ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.UnderPostGraduateEducation=''"
                      class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Giáo dục nghề nghiệp' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.JobEducation" class="form-control" type="text"
                    placeholder="{{'Giáo dục nghề nghiệp' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.JobEducation=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Lý luận chính trị' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.PoliticalTheory" class="form-control" type="text"
                    placeholder="{{'Lý luận chính trị' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.PoliticalTheory=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Học hàm' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.Degree" class="form-control" type="text"
                    placeholder="{{'Học hàm' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.Degree=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Tiếng dân tộc thiểu số' | translate}}</label>
                <div class="input-group br24">
                  <input ng-model="searchModel.MinorityLanguages" class="form-control" type="text"
                    placeholder="{{'Tiếng dân tộc thiểu số' | translate}}..."
                    ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.MinorityLanguages=''" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Giới tính' | translate}}</label>
                <div class="input-group br24">
                  <ui-select tagging ng-model="searchModel.Gender" theme="bootstrap">
                    <ui-select-match
                      placeholder="{{'Giới tính' | translate}}...">{{$select.selected.Name}}</ui-select-match>
                    <ui-select-choices repeat="x.Code as x in ListGender | filter: $select.search">
                      {{x.Name}}
                    </ui-select-choices>
                  </ui-select>
                  <span class="input-group-btn">
                      <button type="button" ng-click="searchModel.Gender=null;"
                          class="btn btn-default no-shadow start-date">
                          <span class="glyphicon glyphicon-remove"></span>
                      </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Tuổi từ' | translate}}</label>
                <div class="input-group br24">
                  <input type='number' ng-model="searchModel.FromAge" class="form-control"
                    placeholder="{{'Tuổi từ' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.FromAge=null" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-md-2 pr-0">
                <label class="fw600 text-underline">{{'Đến' | translate}}</label>
                <div class="input-group br24">
                  <input type='number' ng-model="searchModel.ToAge" class="form-control"
                    placeholder="{{'Tuổi từ' | translate}}..." ng-keydown="($event.keyCode == 13) && reload()" />
                  <span class="input-group-btn">
                    <button type="button" ng-click="searchModel.ToAge=null" class="btn btn-default no-shadow">
                      <span class="glyphicon glyphicon-remove"></span>
                    </button>
                  </span>
                </div>
              </div>
              
              <div class="col-md-2">
                <div class="btn-group pt20 actions d-flex">
                  <div class="text-center">
                    <a class="btn btn-icon-only btn-circle btn-outline purple-custom" ng-click="search()">
                      <span><i class="fa fa-search"></i></span>
                    </a>
                    <p class="text-underline fs9 mb5 pt3">
                      {{'COM_BTN_SEARCH' | translate}}
                    </p>
                  </div>

                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
    </div>


    <div class="row pr-2">
      <div class="" id="dropzone">
        <table class="table dataTable table-hover table-striped" datatable dt-options="dtOptions" dt-columns="dtColumns"
          dt-instance="dtInstance" id="tblData"></table>
      </div>
    </div>


    <div class="main-menu-editWorkflow"
      ng-show="isEditWorkflow">
      <div class="portlet-body form baolo" style="width:100%; position:absolute; background:#fff;">
        <div class="modal-header" style="background-color: #ffffff; border: 1px solid gray; padding: 5px;">
          <div class="col-md-10 pl-0">
            <i class="fa fa-edit black icon-insert fs20"></i>
            <span class="label-lg" id="modal-title"
              style="vertical-align: 5px; color: black;">{{'WFAI_TITLE_EDIT_WF'|translate}}</span>
          </div>
          <!-- <div class="col-md-2 text-right">
                  <i class="fa-solid fa-caret-right icon-scalet fs20 mt5" ng-click="editWorkflow()"></i>
              </div> -->
        </div>
        <div class="modal-body" style="padding-bottom: 0px;">
          <div class="row" ng-repeat="act in listActs">
            <div class="col-md-12 pl-0 pr-0" style="margin: 1px;">
              <div class="toggle-header" ng-click="CloseAll(act);" style="display: flex;  min-height: 40px;">
                <i ng-show="act.checkHiddenActWf" class="fa-solid fa-caret-down icon-scalet fs30 mt10"></i>
                <i ng-show="!act.checkHiddenActWf" class="fa-solid fa-caret-right icon-scalet fs30 mt10"></i>
                <label class="label-lg" style="vertical-align: 7px;display: flex; align-items: center;">
                  <div>
                    <div class="d-flex">

                      <div style="display: inline-block; margin-left: 5px; font-weight: 500">
                        <div ng-if="act.ActStatus == 'Đã xử lý'">
                          <a class="actName" title="{{ act.ActName }}" ng-click="editInstAct(act.Id, full.ObjectCode)">
                            <div class="numberStep1" style="display: inline"><span>{{ act.ActName }}</span></div>
                          </a>

                          <span class="badge-customer badge-customer-success">{{ act.ActStatus }}</span>
                          <img ng-if="act.IsApprovable" class="blink-act" src="/images/default/green-blink.png"
                            style="width: 17px;height: 17px;margin-top: -5px;" />
                        </div>
                        <div
                          ng-if="act.ActStatus == 'Đang xử lý' || act.ActStatus == 'Chưa xử lý' || act.ActStatus == 'Kích hoạt'">
                          <div ng-if="act.ActStatus != 'Chưa xử lý'">
                            <a class="actName" title="{{ act.ActName }}"
                              ng-click="editInstAct(act.Id, full.ObjectCode)">
                              <div class="numberStep1" style="display: inline"><span>{{ act.ActName }}</span></div>
                            </a>

                            <span class="badge-customer badge-customer-warning">{{ act.ActStatus }}</span>
                            <img ng-if="act.IsApprovable" class="blink-act" src="/images/default/green-blink.png"
                              style="width: 17px;height: 17px;margin-top: -5px;" />
                          </div>
                          <div ng-if="act.ActStatus == 'Chưa xử lý'">
                            <a class="actName" title="{{ act.ActName }}"
                              ng-click="editInstAct(act.Id, full.ObjectCode)">
                              <div class="numberStep1" style="display: inline"><span>{{ act.ActName }}</span></div>
                            </a>

                            <span class="badge-customer badge-customer-lock">{{ act.ActStatus }}</span>
                            <img ng-if="act.IsApprovable" class="blink-act" src="/images/default/green-blink.png"
                              style="width: 17px;height: 17px;margin-top: -5px;" />
                          </div>
                        </div>

                        <div ng-if="act.ActStatus == 'Hủy'">
                          <a class="actName" title="{{ act.ActName }}" ng-click="editInstAct(act.Id, full.ObjectCode)">
                            <div class="numberStep1" style="display: inline"><span>{{ act.ActName }}</span></div>
                          </a>

                          <span class="badge-customer badge-customer-danger">{{ act.ActStatus }}</span>
                          <img ng-if="act.IsApprovable" class="blink-act" src="/images/default/green-blink.png"
                            style="width: 17px;height: 17px;margin-top: -5px;" />
                        </div>
                        <div ng-if="act.ActStatus == 'Dừng lại'">
                          <a class="actName" title="{{ act.ActName }}" ng-click="editInstAct(act.Id, full.ObjectCode)">
                            <div class="numberStep1" style="display: inline"><span>{{ act.ActName }}</span></div>
                          </a>

                          <span class="badge-customer badge-customer-pause">{{ act.ActStatus }}</span>
                          <img ng-if="act.IsApprovable" class="blink-act" src="/images/default/green-blink.png"
                            style="width: 17px;height: 17px;margin-top: -5px;" />
                        </div>
                        <div
                          ng-if="act.ActStatus != 'Hủy' && act.ActStatus != 'Dừng lại' && act.ActStatus != 'Đã xử lý' && act.ActStatus != 'Đang xử lý' && act.ActStatus != 'Chưa xử lý' && act.ActStatus != 'Kích hoạt'">
                          <a class="actName" title="{{ act.ActName }}" ng-click="editInstAct(act.Id, full.ObjectCode)">
                            <div class="numberStep1" style="display: inline"><span>{{ act.ActName }}</span></div>
                          </a>
                          <img ng-if="act.IsApprovable" class="blink-act" src="/images/default/green-blink.png"
                            style="width: 17px;height: 17px;margin-top: -5px;" />
                        </div>

                      </div>

                    </div>
                    <span ng-if="act.ActStatus == 'Đã xử lý' && act.Log" class="fs10">
                      <span class="bold fs12">{{ act.Log.CreatedBy }}</span><br />
                      [{{ act.Log.sCreatedTime }}]
                    </span>
                  </div>
                </label>
                <div style="display: flex;align-items: center;margin-left: auto;margin-right: 20px;">
                  <a title="Xét duyệt" type="button" ng-click="approve(act.ActivityInstCode, act.ActStatus)"
                    style="width: 28px; height: 28px" class="btn btn-icon-only btn-circle btn-outline">
                    <i ng-if="(act.ActType == 'Bắt đầu' && act.ActStatus == 'Kích hoạt') || act.ActStatus == 'Đã xử lý'"
                      class="fas fa-check-circle"
                      style="--fa-secondary-color:green; --fa-secondary-opacity: 1; --fa-primary-color: white; font-size: 25px;margin-right: 10px;"></i>
                    <i ng-if="act.ActStatus == 'Hủy' || act.ActStatus == 'Dừng lại'" class="fas fa-circle"
                      style="color:orange;font-size: 25px;margin-right: 10px;"></i>
                    <i ng-if="act.ActStatus == 'Đang xử lý'" class="fas fa-circle"
                      style="color:green;font-size: 25px;margin-right: 10px;"></i>
                    <i ng-if="act.ActStatus != 'Hủy' && act.ActStatus != 'Dừng lại' && act.ActStatus != 'Đã xử lý' && act.ActType != 'Bắt đầu'"
                      class="fas fa-circle" style="color:grey;font-size: 25px;margin-right: 10px;"></i>
                  </a>
                </div>
              </div>
            </div>
            <div class="col-md-12" style="padding: 0px;" ng-if="act.checkHiddenActWf">
              <div ng-include="'../views/admin/workflowActivity/edit-activity-instance.html'"
                ng-controller="edit-activity-instance" ng-init="initEdit(act.Id, full.ObjectCode)"></div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="main-right-editWorkflow" ng-show="isEditWorkflow">
      <div class="create-box create-box-r" ng-click="isEditWorkflow = false;editWorkflow()">
        <!-- <img src="/images/notepad/notepad/activity/left.png" ng-show="!isEditWorkflow" style="border: 2px solid gray;"/>
          <img src="/images/notepad/notepad/activity/right.png" ng-show="isEditWorkflow" style="border: 2px solid gray;"/> -->
        <i class="fa-solid fa-caret-right icon-scalet fs25 mt10" style="margin-left: 12px;"
          ng-show="isEditWorkflow"></i>
        <i class="fa-solid fa-caret-left icon-scalet fs25 mt10" style="margin-left: 12px;"
          ng-show="!isEditWorkflow"></i>
      </div>
    </div>
  </div>
</div>